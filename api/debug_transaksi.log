=== CREATE TRANSAKSI DEBUG ===
POST data: Array
(
    [status_pembayaran] => lunas
    [product_id] => 18
    [nama_pembeli] => Loki
    [quantity] => 1
    [total_harga] => Rp 20.000
    [metode_pembayaran] => transfer_bank
    [alamat_pengiriman] => 
    [catatan] => 
)

SESSION data: Array
(
    [user_id] => 1
    [user_nama] => HexA
    [user_email] => hexa123@gmail.com
    [role] => customer
)

id_pengguna: null (guest)
product_id: 18, quantity: 1
Product found: alkohol, Price: 20000.00, Stock: 104
Calculated: harga_satuan=20000.00, total_harga=20000, quantity=1
Transaction SQL: INSERT INTO transaksi (
                id_pengguna, 
                nama_pembeli, 
                total_harga, 
                status_pembayaran, 
                metode_pembayaran, 
                alamat_pengiriman, 
                catatan
              ) VALUES (?, ?, ?, 'lunas', ?, ?, ?)
Transaction created with ID: 16
Detail SQL: INSERT INTO transaksi_detail (
                      id_transaksi, 
                      id_obat, 
                      jumlah, 
                      harga_satuan, 
                      subtotal
                    ) VALUES (?, ?, ?, ?, ?)
Detail transaksi saved
Product stock updated
Transaction committed successfully
Transaction details fetched: 1 items

=== CREATE TRANSAKSI DEBUG ===
POST data: Array
(
    [status_pembayaran] => lunas
    [product_id] => 18
    [nama_pembeli] => Agus
    [quantity] => 1
    [total_harga] => Rp 20.000
    [metode_pembayaran] => tunai
    [alamat_pengiriman] => 
    [catatan] => 
)

SESSION data: Array
(
    [user_id] => 2
    [user_nama] => Agus
    [user_email] => agus123@gmail.com
)

id_pengguna: 2
product_id: 18, quantity: 1
Product found: alkohol, Price: 20000.00, Stock: 103
Calculated: harga_satuan=20000.00, total_harga=20000, quantity=1
Transaction SQL: INSERT INTO transaksi (
                id_pengguna, 
                nama_pembeli, 
                total_harga, 
                status_pembayaran, 
                metode_pembayaran, 
                alamat_pengiriman, 
                catatan
              ) VALUES (?, ?, ?, 'lunas', ?, ?, ?)
Transaction created with ID: 17
Detail SQL: INSERT INTO transaksi_detail (
                      id_transaksi, 
                      id_obat, 
                      jumlah, 
                      harga_satuan, 
                      subtotal
                    ) VALUES (?, ?, ?, ?, ?)
Detail transaksi saved
Product stock updated
Transaction committed successfully
Transaction details fetched: 1 items

=== CREATE TRANSAKSI DEBUG ===
POST data: Array
(
    [status_pembayaran] => lunas
    [product_id] => 7
    [nama_pembeli] => Bambang
    [quantity] => 1
    [total_harga] => Rp 25.000
    [metode_pembayaran] => tunai
    [alamat_pengiriman] => SMG
    [catatan] => 
)

SESSION data: Array
(
    [user_id] => 2
    [user_nama] => Agus
    [user_email] => agus123@gmail.com
)

id_pengguna: 2
product_id: 7, quantity: 1
Product found: Ibuprofen 400mg, Price: 25000.00, Stock: 79
Calculated: harga_satuan=25000.00, total_harga=25000, quantity=1
Transaction SQL: INSERT INTO transaksi (
                id_pengguna, 
                nama_pembeli, 
                total_harga, 
                status_pembayaran, 
                metode_pembayaran, 
                alamat_pengiriman, 
                catatan
              ) VALUES (?, ?, ?, 'lunas', ?, ?, ?)
Transaction created with ID: 18
Detail SQL: INSERT INTO transaksi_detail (
                      id_transaksi, 
                      id_obat, 
                      jumlah, 
                      harga_satuan, 
                      subtotal
                    ) VALUES (?, ?, ?, ?, ?)
Detail transaksi saved
Product stock updated
Transaction committed successfully
Transaction details fetched: 1 items

